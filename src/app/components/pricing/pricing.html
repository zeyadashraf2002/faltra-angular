<!-- ๐ src/app/components/pricing/pricing.html - MODERN ANIMATED PRICING -->
<section id="pricing" class="pricing-modern" dir="rtl">
  <div class="container">
    
    <!-- Section Header -->
    <div class="section-header" data-aos="fade-up">
      <div class="section-badge">
        <i class="bi bi-tag"></i>
        <span>ุฎุทุท ูุฑูุฉ</span>
      </div>
      <h2 class="section-title">
        ุงุฎุชุฑ ุงูุจุงูุฉ ุงูุชู
        <span class="gradient-text">ุชูุงุณุจ ุงุญุชูุงุฌุงุชู</span>
      </h2>
      <p class="section-subtitle">
        ุฌููุน ุงูุจุงูุงุช ุชุดูู ุงููุตูู ุงููุงูู ูุฌููุน ุงููููุฒุงุช โข ุชุฌุฑุจุฉ ูุฌุงููุฉ 14 ููู โข ุฅูุบุงุก ูู ุฃู ููุช
      </p>
    </div>

    <!-- Loading State -->
    @if (isLoading) {
      <div class="loading-state" data-aos="fade-up">
        <div class="loader"></div>
        <p>ุฌุงุฑู ุชุญููู ุงูุจุงูุงุช...</p>
      </div>
    }

    <!-- Error State -->
    @if (error && !isLoading) {
      <div class="error-state" data-aos="fade-up">
        <i class="bi bi-exclamation-triangle"></i>
        <p>{{ error }}</p>
        <button class="btn-retry" (click)="loadPlans()">ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
      </div>
    }

    <!-- Pricing Cards -->
    @if (!isLoading && plans.length > 0) {
      <div class="pricing-grid">
        
        @for (plan of plans; track plan.id) {
          <div 
            class="pricing-card" 
            [class.popular]="isPopular(plan.displayOrder)"
            [attr.data-aos]="'fade-up'"
            [attr.data-aos-delay]="$index * 100">
            
            <!-- Popular Badge -->
            @if (isPopular(plan.displayOrder)) {
              <div class="popular-badge">
                <i class="bi bi-star-fill"></i>
                <span>ุงูุฃูุซุฑ ุดุนุจูุฉ</span>
              </div>
            }

            <!-- Card Glow Effect -->
            <div class="card-glow"></div>

            <!-- Plan Header -->
            <div class="plan-header">
              <div class="plan-icon">
                <i class="bi" [class]="getPlanIcon(plan.displayOrder)"></i>
              </div>
              <h3 class="plan-name">{{ plan.nameAr }}</h3>
              <p class="plan-desc">{{ plan.descriptionAr }}</p>
            </div>

            <!-- Price Display -->
            <div class="price-section">
              <div class="price-wrapper">
                <span class="currency">ุฌููู</span>
                <span class="price-amount">{{ plan.price }}</span>
                <span class="price-period">/ {{ getPeriodText(plan.durationDays) }}</span>
              </div>
              
              @if (getSaveText(plan.displayOrder)) {
                <div class="save-badge">
                  <i class="bi bi-lightning-fill"></i>
                  <span>{{ getSaveText(plan.displayOrder) }}</span>
                </div>
              }
            </div>

            <!-- Features List -->
            <div class="features-list">
              @for (feature of plan.features; track $index) {
                <div class="feature-item">
                  <i class="bi bi-check-circle-fill"></i>
                  <span>{{ feature.ar }}</span>
                </div>
              }
            </div>

            <!-- CTA Button -->
            <button 
              class="btn-plan"
              [class.btn-popular]="isPopular(plan.displayOrder)"
              (click)="freeTrial()">
              <span>ุงุจุฏุฃ ุงูุชุฌุฑุจุฉ ุงููุฌุงููุฉ</span>
              <i class="bi bi-arrow-left"></i>
            </button>

            <!-- Plan Footer Note -->
            <div class="plan-footer">
              <i class="bi bi-info-circle"></i>
              <span>ุจุฏูู ุจุทุงูุฉ ุงุฆุชูุงููุฉ</span>
            </div>

          </div>
        }

      </div>

      <!-- Bottom Trust Section -->
      <div class="trust-section" data-aos="fade-up">
        <div class="trust-content">
          <i class="bi bi-shield-check"></i>
          <div class="trust-text">
            <h4>ุชุฌุฑุจุฉ ุงููููุน ูุฌุงูุง ููุฏู ุนุดุฑู ุฃูุงู</h4>
            <p>ููู ุญุงูู ุงูุงุดุชุฑุงู ูููู ุงูุฏูุน ุนุจุฑ ูููุนูุง ุงู ุงูุฏูุน ูุงุด</p>
          </div>
        </div>
        
        <div class="payment-methods">
          <span>ุทุฑู ุงูุฏูุน ุงููุชุงุญุฉ:</span>
          <div class="payment-icons">
            <i class="bi bi-credit-card"></i>
            <i class="bi bi-wallet2"></i>
            <i class="bi bi-bank"></i>
          </div>
        </div>
      </div>

      <!-- FAQ Quick Links -->
      <div class="pricing-faq" data-aos="fade-up">
        <h3>ุฃุณุฆูุฉ ุดุงุฆุนุฉ ุญูู ุงูุงุดุชุฑุงูุงุช</h3>
        <div class="faq-items">
          <div class="faq-item">
            <i class="bi bi-question-circle"></i>
            <div>
              <strong>ูู ูููููู ุชุบููุฑ ุงูุจุงูุฉ ูุงุญูุงูุ</strong>
              <p>ูุนูุ ููููู ุงูุชุฑููุฉ ุฃู ุงูุชุฎููุถ ูู ุฃู ููุช</p>
            </div>
          </div>
          <div class="faq-item">
            <i class="bi bi-question-circle"></i>
            <div>
              <strong>ูุง ุงููุฏููุนุงุช ุงูููุจููุฉุ</strong>
              <p>ููุจู ุฌููุน ุงูุจุทุงูุงุช ุงูุงุฆุชูุงููุฉ ูุงูุชุญููู ุงูุจููู</p>
            </div>
          </div>
          <div class="faq-item">
            <i class="bi bi-question-circle"></i>
            <div>
              <strong>ูู ููุฌุฏ ุฑุณูู ุฅุถุงููุฉุ</strong>
              <p>ูุงุ ุงูุณุนุฑ ุงููุนุฑูุถ ุดุงูู ูู ุดูุก ุจุฏูู ุฑุณูู ุฎููุฉ</p>
            </div>
          </div>
        </div>
      </div>
    }

  </div>

  <!-- Background Elements -->
  <div class="bg-shape shape-1"></div>
  <div class="bg-shape shape-2"></div>
  <div class="bg-shape shape-3"></div>
</section>